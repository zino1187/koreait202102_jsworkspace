<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<style>
#wrapper{
    width:1200px;
    height:700px;
    background:yellow;
    margin: auto;
    overflow: hidden;
}
#side{
    width:200px;
    height:100%;
    background:aqua;
    float:left;
}
#content{
    width:1000px;
    height:100%;
    float:left;
}
#side *{
    width:95%;
}

#side input[type="text"]{
    height:20px;
}
#side textarea{
    height:100px;
}

</style>
<script>
var content;
var myCenter; //현재 맵의 중심점
var lati, lngi; //위도와 경도를 받는 텍스트필드
var googleMap;
var imgSelect;
//등록시 선택할 업체의 대표이미지
var storeList={
    "stores":[
        {
            "name":"프라이팬",
            "image":"../images/store/fripan.jpg" 
        },
        {
            "name":"이탤리",
            "image":"../images/store/italy.jpg" 
        },
        {
            "name":"떡볶이",
            "image":"../images/store/ricecake.jpg" 
        },
        {
            "name":"삼곱집",
            "image":"../images/store/samgob.jpg" 
        },
        {
            "name":"우리식당",
            "image":"../images/store/woori.jpg" 
        }
    ]
};

function init(){
    //alert("구글맵이 준비되었어요!!");
    content = document.getElementById("content");
    lati = document.getElementById("lati");
    lngi = document.getElementById("lngi");
    imgSelect = document.getElementById("imgSelect");

    //맵의 중심점에 대한 좌표 및 카메라 줌 확대비율을 설정하자!!!
    //var 
    myCenter = new google.maps.LatLng(37.57592857757655, 126.97693409556554);
    
    var mapProp = {
        center: myCenter,
        zoom:18
    };

    //설정 정보를 구글맵 객체에 적용 
    googleMap = new google.maps.Map(content, mapProp);

    //마커 생성하기 
    var marker = new google.maps.Marker({position: myCenter});
    marker.setMap(googleMap);//생성된 마커를 적용할 맵 지정 
    
    createImg();
}   
//선택할 이미지 옵션 목록 생성 
function createImg(){
    //집합의 크기만큼...
    for(var store of storeList.stores){
        var op=document.createElement("option");
        op.text=store.name;
        op.value=store.image;
        imgSelect.add(op);//생성된 옵션을 select박스에 붙이기
    }
}

function apply(){
    //위도와 경도를 변경하여, 마커를 찍어보자!!
    myCenter = new google.maps.LatLng(lati.value, lngi.value);
    var marker = new google.maps.Marker({position: myCenter});
    marker.setMap(googleMap);

    //카메라의 중심점을 현재 찍힌 마커로 이동 
    googleMap.setCenter(marker.getPosition());
}

//선택한 상점의 이미지를 미리보기~~
function preview(){
    document.getElementById("pic").src=imgSelect.value;
}

</script>
</head>
<body>
    <div id="wrapper">
        <div id="side">
            <input type="text" placeholder="상호입력">
            <textarea></textarea>
            <!-- 기존에 선택한 옵션과는 다른 옵션을 선택했을때,즉 선택값이 바뀌었을때 감지 -->
            <select id="imgSelect" onChange="preview()">
                <option value="">이미지 선택</option>
            </select>   
            <img src="../images/pica.png" width="195px" id="pic"> 
            
            일괄등록:<input type="checkbox">
             
            <textarea placeholder="json 데이터 입력"></textarea>
            <input type="text" value="37.574966182779676" id="lati">
            <input type="text" value="126.9750785964186" id="lngi">
            <button onClick="apply()">적용</button>
        </div>
        <div id="content"></div>
    </div>  
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2DeerqVh6OlGU33NDZz6XYUMMzFvR1TM&callback=init"></script>      
</body>
</html>